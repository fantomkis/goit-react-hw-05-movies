"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[656],{6713:function(e,t,n){n.d(t,{Hg:function(){return o},IQ:function(){return f},Jh:function(){return d},V0:function(){return i},rs:function(){return p}});var r=n(5861),s=n(7757),a=n.n(s),c=n(4569),u=n.n(c)().create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"82c59d753050746a09d77670604a0453"}}),i=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/search/movie",{params:{query:t}});case 2:return n=e.sent,e.next=5,n.data.results;case 5:return r=e.sent,console.log(r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("trending/movie/week");case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("movie/".concat(t));case 2:return n=e.sent,e.next=5,n.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("movie/".concat(t,"/credits"));case 2:return n=e.sent,e.next=5,n.data;case 5:return r=e.sent,e.abrupt("return",r.cast);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("movie/".concat(t,"/reviews"));case 2:return n=e.sent,e.next=5,n.data;case 5:return r=e.sent,e.abrupt("return",r.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},2656:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(885),s=n(6871),a=n(6713),c=n(2791),u=n(4628),i=n(501),o=function(e){return e&&e.map((function(e){return e.name})).join(", ")},p=n(8020),f={},d=n(184);var l=function(e){var t,n,r,a=e.movie,c=a.poster_path,u=a.vote_average,l=a.overview,v=a.title,h=a.release_date,x=a.genres,m=null!==(t=null===(n=(0,s.TH)().state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/",j=(10*u).toFixed(0);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.rU,{to:m,className:f.button,children:"Go back"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:c?"https://image.tmdb.org/t/p/w300/".concat(c):p,alt:"".concat(v)}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"".concat(v," (").concat((r=h,r&&r.split("-")[0]),")")}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{children:"User score: "})," ",j,"%"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{children:"Overview: "})," ",l]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{children:"Genes:"})," ",o(x)]})]})]})]})};var v=function(e){var t=(0,s.TH)();return(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:"Additional information"}),(0,d.jsx)(i.OL,{to:"cast",state:t.state,children:"Cast"}),(0,d.jsx)(i.OL,{to:"reviews",state:t.state,children:"Reviews"})]})};var h=function(e){var t=(0,c.useState)({}),n=(0,r.Z)(t,2),i=n[0],o=n[1],p=(0,s.UO)().id;return(0,c.useEffect)((function(){(0,a.rs)(p).then((function(e){o(e)})).catch((function(e){return console.log(e)}))}),[p]),console.log(i),(0,d.jsxs)("section",{children:[i&&(0,d.jsx)(l,{movie:i}),i&&(0,d.jsx)(v,{}),(0,d.jsx)(c.Suspense,{fallback:(0,d.jsx)(u.Z,{}),children:(0,d.jsx)(s.j3,{})})]})}},8020:function(e,t,n){e.exports=n.p+"static/media/posterholder.7fcaf178276f415730e1.jpg"}}]);
//# sourceMappingURL=656.2e69f4a6.chunk.js.map